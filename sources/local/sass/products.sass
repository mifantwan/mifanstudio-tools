.local-product
    .grid
        display: grid
        grid-template-columns: repeat(2, minmax(0, 1fr))
        grid-template-rows: 1fr
        gap: var(--space-large)
        justify-content: center
        width: 100%
        height: 100%

        @media screen and (max-width: 1024px)
            grid-template-columns: 1fr
            grid-template-rows: auto

    .product-gallery
        position: relative
        width: 100%
        height: auto
        border-radius: var(--space-small)
        overflow: hidden

    .product-gallery-item
        position: relative
        
        &-container
            position: relative
            display: flex
            justify-content: center
            align-items: center
            overflow: hidden
            width: 100%
            height: 100%
            aspect-ratio: 1 / 1
            
            span
                font-size: var(--font-small)

            img
                width: 100%
                height: 100%
                object-fit: cover

            div[index]
                position: absolute
                top: 0
                left: 0
                display: flex
                justify-content: center
                align-items: center
                width: 100%
                height: 100%
                aspect-ratio: 1 / 1
                transform: translateX(100%)
                opacity: 0
                will-change: transform, opacity
                transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)

                &.active
                    transform: translateX(0)
                    opacity: 1
                    
                &.slide-out-right
                    transform: translateX(-100%)
                    opacity: 0
                    
                &.slide-out-left,
                &.slide-in-right
                    transform: translateX(100%)
                    opacity: 0
                    
                &.slide-in-left
                    transform: translateX(-100%)
                    opacity: 0

    %gallery-button
        position: absolute
        top: 50%
        transform: translateY(-50%)
        opacity: 0.7
        cursor: pointer
        z-index: 10
        padding: var(--space-normal)
        border: 1px solid var(--color-muted)
        border-radius: var(--space-small)
        transition: all 0.3s ease
        background-color: color-mix(in srgb, var(--color-background) 50%, transparent)

        &:hover
            background-color: var(--control-main-background)
            color: var(--color-text)

    .product-gallery-left
        @extend %gallery-button
        left: 1rem

    .product-gallery-right
        @extend %gallery-button
        right: 1rem

    button
        background-color: transparent
        svg
            vertical-align: middle

    .product-gallery-controls
        display: flex
        justify-content: center
        align-items: center
        width: 100%
        padding-block: var(--space-small)

        &-container
            display: flex
            gap: var(--space-small)
            max-width: 100%
            overflow-x: auto
            overflow-y: hidden
            scrollbar-width: none
            -webkit-overflow-scrolling: touch
            scroll-behavior: smooth
            white-space: nowrap

            &::-webkit-scrollbar
                display: none

    .product-thumbnail
        flex: 0 0 4rem
        width: 4rem
        aspect-ratio: 1 / 1
        display: flex
        align-items: center
        justify-content: center
        background-color: var(--control-main-background)
        cursor: pointer
        border: 1px solid transparent
        border-radius: var(--space-small)
        transition: all 0.3s ease
        
        &:hover,
        &.active
            background-color: var(--color-muted, rgba(0, 0, 0, 0.1))
        
        &.active
            border: 1px solid var(--color-muted)
            color: white
            
            p
                color: white
        
        p
            display: none

        img,
        video,
        model-viewer
            width: 100%
            height: 100%
            object-fit: cover
            border-radius: var(--space-small)
            
    .local-product-navigation
        div
            display: flex
            justify-content: space-between
            align-items: center
            column-gap: var(--space-small)

            small:not(:first-child) a
                padding: var(--space-small)
                border-radius: var(--space-small)
                border: 1px solid var(--color-muted)
                color: var(--color-muted)
                text-decoration: none
                transition: all 0.3s ease

                &:hover
                    background-color: var(--control-main-background)
                    color: var(--color-text)

    .product-details
        border-radius: var(--space-small)
        padding-inline: var(--space-large)

        svg path
            fill: #ffc300

    .product-details-price
        display: flex
        justify-content: flex-start
        align-items: flex-end
        column-gap: var(--space-normal)

        div
            margin-block: auto
