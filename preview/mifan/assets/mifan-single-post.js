var MifanStudio;(()=>{"use strict";function e(){var e=document.querySelector(".single-post-content");if(e){var t=e.querySelectorAll("h1, h2, h3, h4, h5, h6");if(t.length){t.forEach(function(e,t){e.id="title--".concat(t+1)});var n=document.querySelector(".single-post-indexing");if(n){var i=n.querySelector("ul");i&&i.remove();var r=document.createElement("ul");n.appendChild(r),t.forEach(function(e,t){var n=document.createElement("li"),i=document.createElement("a");i.href="#title--".concat(t+1),i.textContent=e.textContent,i.style.transition="color 0.6s ease, opacity 0.6s ease",n.appendChild(i),r.appendChild(n)});var s,o,a=r.querySelectorAll("a"),c=function(){if(window.innerWidth<=1024)a.forEach(function(e){return e.classList.remove("active")});else{var e,n=(e=getComputedStyle(t[0]),parseFloat(e.scrollMarginTop)||0),i=window.scrollY+n+1,r=-1;t.forEach(function(e,t){var n=e.offsetTop;i>=n&&(r=t)}),a.forEach(function(e){return e.classList.remove("active")}),r>=0&&a[r].classList.add("active")}};window.addEventListener("scroll",function(){s&&clearTimeout(s),s=setTimeout(c,10)},{passive:!0}),c(),window.addEventListener("resize",function(){o&&clearTimeout(o),o=setTimeout(c,100)},{passive:!0})}}}}function t(){var e=this,t=document.querySelectorAll("[content-index]"),n=document.querySelectorAll("[content-id]"),i=document.querySelector(".single-post-page .grid");if(0!==t.length&&0!==n.length&&i){var r,s=!1,o=[],a=0,c=0,l=!1,u=function(){return window.innerWidth<=1023},d=function(e){if(u())if(l)l=!1;else{var i=e.target.closest("[content-index]");if(i){var r=i.getAttribute("content-index");t.forEach(function(e){e===i?e.classList.add("is-active"):e.classList.remove("is-active")}),n.forEach(function(e){e.getAttribute("content-id")===r?(e.classList.remove("is-hidden"),e.style.display="block",e.offsetHeight,requestAnimationFrame(function(){e.classList.add("is-active")})):(e.classList.remove("is-active"),e.classList.add("is-hidden"),setTimeout(function(){e.classList.contains("is-active")||(e.style.display="none")},300))})}}},f=function(e){if(u()){var t=e.touches[0];a=t.clientY,c=t.clientX,l=!1}},m=function(e){if(u()){var t=e.touches[0],n=Math.abs(t.clientY-a),i=Math.abs(t.clientX-c);(n>10||i>10)&&(l=!0)}},v=function(e){if(u())if(l)l=!1;else{var i=e.target.closest('a[href^="#"]');if(i){var r=i.getAttribute("href");if(r&&"#"!==r){var s=r.substring(1);e.preventDefault(),function(e){if(u()){var i=Array.from(n).find(function(e){return"index"===e.getAttribute("content-id")});i&&i.classList.contains("is-active")&&(n.forEach(function(e){"content"===e.getAttribute("content-id")?(e.classList.remove("is-hidden"),e.style.display="block",e.offsetHeight,requestAnimationFrame(function(){e.classList.add("is-active")})):(e.classList.remove("is-active"),e.classList.add("is-hidden"),setTimeout(function(){e.classList.contains("is-active")||(e.style.display="none")},300))}),t.forEach(function(e){"content"===e.getAttribute("content-index")?e.classList.add("is-active"):e.classList.remove("is-active")}),setTimeout(function(){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},350))}}(s)}}}},h=function(){if(!s){s=!0,n.forEach(function(e){"content"===e.getAttribute("content-id")?(e.style.display="block",e.classList.add("is-active"),e.classList.remove("is-hidden")):(e.style.display="none",e.classList.remove("is-active"),e.classList.add("is-hidden"))}),t.forEach(function(e){"content"===e.getAttribute("content-index")?e.classList.add("is-active"):e.classList.remove("is-active")}),t.forEach(function(t){t.addEventListener("touchstart",f,{passive:!0}),t.addEventListener("touchmove",m,{passive:!0});var n=d.bind(e);t.addEventListener("click",n),o.push({button:t,handler:n})});var i=Array.from(n).find(function(e){return"index"===e.getAttribute("content-id")});i&&(i.addEventListener("touchstart",f,{passive:!0}),i.addEventListener("touchmove",m,{passive:!0}),i.addEventListener("click",v))}},g=function(){if(s){s=!1,o.forEach(function(e){var t=e.button,n=e.handler;t.removeEventListener("touchstart",f),t.removeEventListener("touchmove",m),t.removeEventListener("click",n)}),o=[];var e=Array.from(n).find(function(e){return"index"===e.getAttribute("content-id")});e&&(e.removeEventListener("touchstart",f),e.removeEventListener("touchmove",m),e.removeEventListener("click",v)),n.forEach(function(e){e.style.display="",e.classList.remove("is-active","is-hidden")}),t.forEach(function(e){e.classList.remove("is-active")})}},p=function(){u()?h():g()};u()?h():g(),window.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(p,150)})}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=s.call(n)).done)&&(a.push(i.value),a.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r={python:{keywords:/\b(def|class|if|elif|else|for|while|try|except|finally|with|import|from|as|return|yield|lambda|pass|break|continue|and|or|not|in|is|None|True|False)\b/g,strings:/(['"])(?:(?=(\\?))\2.)*?\1/g,comments:/#.*$/gm,numbers:/\b\d+\.?\d*\b/g,functions:/\b([a-zA-Z_][a-zA-Z0-9_]*)\s*(?=\()/g},javascript:{keywords:/\b(const|let|var|function|class|if|else|for|while|do|switch|case|break|continue|return|try|catch|finally|throw|new|this|super|extends|import|export|default|async|await|typeof|instanceof|in|of|true|false|null|undefined)\b/g,strings:/(['"`])(?:(?=(\\?))\2.)*?\1/g,comments:/\/\/.*$|\/\*[\s\S]*?\*\//gm,numbers:/\b\d+\.?\d*\b/g,functions:/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*(?=\()/g},html:{tags:/<\/?[\w\s="/.':;#-\/]+>/g,attributes:/\s+[\w-]+(?=\s*=\s*["'])/g,strings:/(["'])(?:(?=(\\?))\2.)*?\1/g,comments:/<!--[\s\S]*?-->/g},css:{selectors:/[^{}]+(?=\{)/g,properties:/[\w-]+(?=\s*:)/g,values:/:\s*[^;]+/g,comments:/\/\*[\s\S]*?\*\//g,strings:/(["'])(?:(?=(\\?))\2.)*?\1/g},json:{keys:/"([^"]+)":/g,strings:/"([^"]+)"/g,numbers:/\b\d+\.?\d*\b/g,booleans:/\b(true|false|null)\b/g},rust:{keywords:/\b(fn|let|mut|const|static|struct|enum|impl|trait|type|where|use|pub|mod|crate|super|self|if|else|match|loop|while|for|in|break|continue|return|async|await|move|ref|unsafe|extern|dyn|true|false)\b/g,strings:/(r#*"(?:[^"\\]|\\.)*"#*|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/g,comments:/\/\/.*$|\/\*[\s\S]*?\*\//gm,numbers:/\b\d+\.?\d*\b/g,functions:/\b([a-zA-Z_][a-zA-Z0-9_]*)\s*(?=\(|!)/g},php:{keywords:/\b(function|class|interface|trait|namespace|use|public|private|protected|static|final|abstract|const|if|else|elseif|switch|case|default|for|foreach|while|do|break|continue|return|try|catch|finally|throw|new|clone|extends|implements|instanceof|echo|print|require|require_once|include|include_once|true|false|null)\b/g,strings:/(['"])(?:(?=(\\?))\2.)*?\1/g,comments:/\/\/.*$|\/\*[\s\S]*?\*\/|#.*$/gm,numbers:/\b\d+\.?\d*\b/g,functions:/\b([a-zA-Z_][a-zA-Z0-9_]*)\s*(?=\()/g},liquid:{tags:/\{%[\s\S]*?%\}|\{\{[\s\S]*?\}\}/g,keywords:/\b(if|elsif|else|endif|unless|endunless|case|when|endcase|for|endfor|break|continue|assign|capture|endcapture|increment|decrement|include|render|section|layout|block|endblock|comment|endcomment|raw|endraw|liquid|echo|tablerow|endtablerow|cycle|paginate|endpaginate)\b/g,filters:/\|[\s]*[a-zA-Z_][a-zA-Z0-9_]*/g,strings:/(["'])(?:(?=(\\?))\2.)*?\1/g,comments:/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{#[\s\S]*?#\}/g,properties:/\b[a-zA-Z_][a-zA-Z0-9_]*\.[a-zA-Z_][a-zA-Z0-9_]*/g}};function s(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}function o(){var e=document.querySelectorAll("pre code");e.length&&e.forEach(function(e){var t=function(e){var t=Array.from(e.classList).find(function(e){return e.startsWith("language-")});return t?t.replace("language-",""):null}(e);t&&r[t]&&function(e,t){var n=e.textContent,o=r[t];if(o){var a=[],c=["comments","strings","keywords","booleans","numbers","functions","tags","attributes","properties","values","keys","selectors"];Object.entries(o).forEach(function(e){var t,r=i(e,2),s=r[0],o=r[1],l=c.indexOf(s),u=new RegExp(o.source,o.flags||"g");for(u.lastIndex=0;null!==(t=u.exec(n));)a.push({type:s,start:t.index,end:t.index+t[0].length,text:t[0],priority:l>=0?l:999})}),a.sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.start-t.start});var l=[],u=[];a.forEach(function(e){u.some(function(t){return!(e.end<=t.start||e.start>=t.end)})||(l.push(e),u.push({start:e.start,end:e.end}))}),l.sort(function(e,t){return e.start-t.start});var d="",f=0;l.forEach(function(e){e.start>f&&(d+=s(n.substring(f,e.start))),d+='<span class="hl-'.concat(e.type,'">').concat(s(e.text),"</span>"),f=e.end}),f<n.length&&(d+=s(n.substring(f))),e.innerHTML=d}}(e,t)})}var a=function(){var n;e(),t(),o(),0!==(n=document.querySelectorAll(".button--social-share")).length&&n.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("social-share"),n=encodeURIComponent(window.location.href),i=encodeURIComponent(document.title),r="";switch(t){case"twitter":r="https://twitter.com/intent/tweet?text=".concat(i,"%20").concat(n);break;case"facebook":r="https://www.facebook.com/sharer/sharer.php?u=".concat(n);break;case"linkedin":r="https://www.linkedin.com/sharing/share-offsite/?url=".concat(n);break;default:return void console.warn("Unknown social share platform:",t)}window.open(r,"_blank","width=600,height=400")})})};if(window.mifanReRenderApp){var c=window.mifanReRenderApp;window.mifanReRenderApp=function(){c(),a()}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.addEventListener("resize",a),MifanStudio={}})();